-- Master Tables

DROP TABLE IF EXISTS REF_MEM_TYPE;
CREATE TABLE REF_MEM_TYPE
(
TYPE_ID Int NOT NULL AUTO_INCREMENT,
MEM_TYPE varchar(30) NOT NULL,
PRIMARY KEY (TYPE_Id)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_GENDER;
CREATE TABLE REF_GENDER
(
GENDER_ID Int NOT NULL AUTO_INCREMENT,
GENDER varchar(10) NOT NULL,
PRIMARY KEY (GENDER_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_KYC_STATUS;
CREATE TABLE REF_KYC_STATUS
(
KYC_STATUS_ID INT NOT NULL AUTO_INCREMENT,
KYC_STATUS VARCHAR(10) NOT NULL,
PRIMARY KEY (KYC_STATUS_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_COUNTRY;
CREATE TABLE IF NOT EXISTS REF_COUNTRY (
  ID int(11) NOT NULL AUTO_INCREMENT,
  CONT_NAME_ISO2 char(2) NOT NULL,
  CONT_NAME varchar(80) NOT NULL,
  CONT_NAME_NICE varchar(80) NOT NULL,
  CONT_NAME_ISO3 char(3) DEFAULT NULL,
  CONT_NUM_CODE smallint(6) DEFAULT NULL,
  CONT_CODE int(5) NOT NULL,
  PRIMARY KEY (ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_REGION;
CREATE TABLE REF_REGION
(
REG_ID INT NOT NULL AUTO_INCREMENT,
PREFIX VARCHAR(4) NOT NULL,
COUNTRY VARCHAR (100) NOT NULL,
STATE VARCHAR(100) NOT NULL,
CITY VARCHAR(100) NOT NULL,
ZIP INT NOT NULL,
PRIMARY KEY (REG_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS MEMBER;
CREATE TABLE MEMBER
(
MEMBER_ID INT NOT NULL AUTO_INCREMENT,
F_NAME Varchar(50),
L_NAME Varchar(50),
DOB DATE,
GENDER_ID INT DEFAULT 3, FOREIGN KEY (GENDER_ID) REFERENCES REF_GENDER(GENDER_ID),
M_PREFIX varchar(5),
MOBILE int CHECK (LEN(10)),
EMAILID varchar(20),
ADD_1 varchar(50),
ADD_2 Varchar(50),
CITY Varchar(10),
STATE Varchar (20),
ZIP varchar(6),
MEM_TYPE_ID int NOT NULL,
PRIMARY KEY (MEMBER_ID),
FOREIGN KEY (MEM_TYPE_ID) REFERENCES REF_MEM_TYPE(TYPE_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS MEM_LOGIN_CRED;
Create Table MEM_LOGIN_CRED
(
MEMBER_ID int NOT NULL,
USR_NAME varchar(50) NOT NULL,
ENCR_PWD varchar(4000) NOT NULL
) ENGINE=InnoDB;
ALTER TABLE MEM_LOGIN_CRED
ADD CONSTRAINT FK_MEM_LOGIN
FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(MEMBER_ID);

DROP TABLE IF EXISTS MEMBER_KYC;
CREATE TABLE MEMBER_KYC
(
MEMBER_ID int NOT NULL,
PANCARD VARCHAR(10) NOT NULL,
ADHARCARD VARCHAR(16) NOT NULL,
PASSPORT VARCHAR(20),
DL_NUM VARCHAR(20),
KYC_STATUS_ID INT NOT NULL DEFAULT 0,
FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(MEMBER_ID),
FOREIGN KEY (KYC_STATUS_ID) REFERENCES REF_KYC_STATUS(KYC_STATUS_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS MEMBER_ACCOUNTS;
CREATE TABLE MEMBER_ACCOUNTS
(
MEMBER_ID INT NOT NULL,
BANK_NAME VARCHAR(100) NOT NULL,
ACCOUNT_NUM VARCHAR(20) NOT NULL,
IFSC_CODE VARCHAR(50) NOT NULL,
ACCOUNT_DMAT VARCHAR(20),
FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER(MEMBER_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_PRE_IPO_LIST;
CREATE TABLE REF_PRE_IPO_LIST
(
PRE_IPO_ID INT NOT NULL AUTO_INCREMENT,
PRE_IPO_NAME VARCHAR(100) NOT NULL,
COM_SEG VARCHAR(100) NOT NULL,
ISIN_NUM VARCHAR(50),
ACQ_PRICE_MIN DECIMAL(13, 4),
ACQ_PRICE_MAX DECIMAL(13, 4),
SELL_PRICE_MIN DECIMAL(13,4),
SELL_PRICE_MIX DECIMAL(13,4),
PRIMARY KEY (PRE_IPO_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_LOAN_TYPE;
CREATE TABLE REF_LOAN_TYPE
(
LOAN_TYPE_ID INT NOT NULL AUTO_INCREMENT,
LOAN_TYPE VARCHAR(100) NOT NULL,
PRIMARY KEY (LOAN_TYPE_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_MUT_FUND;
CREATE TABLE REF_MUT_FUND
(
MUT_FUND_ID INT NOT NULL AUTO_INCREMENT,
MUT_FUND_HOUSE VARCHAR(100) NOT NULL,
MUT_FUND_NAME VARCHAR (10), -- GROWTH/DIVIDEND
PRIMARY KEY (MUT_FUND_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_MUT_FUND_PLAN;
CREATE TABLE REF_MUT_FUND_PLAN
(
MUT_PLAN_ID INT NOT NULL AUTO_INCREMENT,
MUT_FUND_PLAN VARCHAR(10) NOT NULL,
PRIMARY KEY (MUT_PLAN_ID)
) ENGINE=InnoDB;

DROP TABLE IF EXISTS REF_INVESTMENT_TYPE;
CREATE TABLE REF_INVESTMENT_TYPE
(
INV_TYPE_ID INT NOT NULL AUTO_INCREMENT,
INV_TYPE VARCHAR(100) NOT NULL,
PRIMARY KEY (INV_TYPE_ID)
) ENGINE=InnoDB;


